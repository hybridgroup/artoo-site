<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html ng-app="artoo">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="description">
    <meta content="The Hybrid Group" name="author">
    <title>Artoo - Analog Sensor Driver</title>
    <link href="/stylesheets/application.css" rel="stylesheet">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="/javascripts/vendor/angular.min.js"></script>
    <script src="/javascripts/app.js"></script>
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700%7CLato:400,700%7CInconsolata" rel="stylesheet">
    <link href="/favicon.ico" rel="shortcut icon" type="image/gif">
  <script type="text/javascript">


  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46433484-1', {"cookieDomain":"artoo.io"});
















   ga('send', 'pageview');


</script></head>
  <body>
    
    <div class="app-header" id="top" role="banner">
      <div class="container">
        <div class="display">
          <div class="app-logo">
            <a class="logo" href="/">artoo Ruby on Robots</a>
          </div>
        </div>
        <div class="mobile-menu home">
          <a id="mobile-menu">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
          </a>
        </div>
        <nav class="menu">
          <ul class="nav-list">
            <li>
              <a class="active" href="/documentation">Docs</a>
            </li>
            <li>
              <a href="/documentation/platforms" class="item">Platforms</a>
            </li>
            <li>
              <a href="/videos" class="item">Videos</a>
            </li>
            <li>
              <a href="/blog" class="item">Blog</a>
            </li>
            <li>
              <a class="item" target="blank" href="https://github.com/hybridgroup/artoo/">Github</a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
    <div class="app-content">
      <div class="page-title">
        <div class="container">
          <h1 class="title">Drivers</h1>
          <h2 class="subtitle">Artoo has a extensible system for connecting to hardware devices.</h2>
        </div>
      </div>
      <div class="main-content" role="main">
        <div class="documentation">
          <div class="side-documentation">
            <div class="sidebar-header"></div>
            <div class="mobile-menu">
              <h1 class="mobile-header">Index</h1>
              <a id="docs-menu">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
              </a>
            </div>
            <nav class="docs-sidebar" ng-controller="SidebarCtrl">
              <a href="/documentation/getting-started">Getting Started</a>
              <div class="section" ng-class="{active: active('Guides')}">
                <div class="name" ng-click="show('Guides')">Guides</div>
                <div class="links" ng-show="active('Guides')">
                  <a href="/documentation/guides/what_is_artoo">About artoo</a>
                  <a href="/documentation/guides/concepts">Concepts</a>
                  <a href="/documentation/guides/api">API</a>
                  <a href="/documentation/guides/cli">CLI</a>
                  <a href="/documentation/guides/console/">Console</a>
                  <a href="/documentation/guides/test-driven-robotics">Test-Driven Robotics</a>
                  <a href="/documentation/guides/helpers">Helper Methods</a>
                  <a href="http://rubydoc.info/gems/artoo/frames">Generated Documentation</a>
                </div>
              </div>
              <div class="section" ng-class="{active: active('Platforms')}">
                <div class="name" ng-click="show('Platforms')">Platforms</div>
                <div class="links" ng-show="active('Platforms')">
                  <a href="/documentation/platforms/ardrone">Ardrone</a>
                  <a href="/documentation/platforms/arduino">Arduino</a>
                  <a href="/documentation/platforms/beaglebone">Beaglebone</a>
                  <a href="/documentation/platforms/crazyflie">Crazyflie</a>
                  <a href="/documentation/platforms/digispark">Digispark</a>
                  <a href="/documentation/platforms/joystick">Joystick</a>
                  <a href="/documentation/platforms/keyboard">Keyboard</a>
                  <a href="/documentation/platforms/leapmotion">Leap Motion</a>
                  <a href="/documentation/platforms/neurosky">Neurosky Mindware</a>
                  <a href="/documentation/platforms/opencv">OpenCV</a>
                  <a href="/documentation/platforms/pebble">Pebble</a>
                  <a href="/documentation/platforms/raspberry-pi">Raspberry Pi</a>
                  <a href="/documentation/platforms/roomba">Roomba</a>
                  <a href="/documentation/platforms/spark">Spark</a>
                  <a href="/documentation/platforms/sphero">Sphero</a>
                </div>
              </div>
              <div class="section" ng-class="{active: active('Drivers')}">
                <div class="name" ng-click="show('Drivers')">Drivers</div>
                <div class="links" ng-show="active('Drivers')">
                  <div class="sub-section">
                    <div class="name">GPIO</div>
                    <div class="links">
                      <a href="/documentation/drivers/analog-sensor">Analog Sensor</a>
                      <a href="/documentation/drivers/button">Button</a>
                      <a href="/documentation/drivers/continuous-servo">Continuous Servo</a>
                      <a href="/documentation/drivers/led">LED</a>
                      <a href="/documentation/drivers/makey-button">Makey Button</a>
                      <a href="/documentation/drivers/maxbotix">Maxbotix</a>
                      <a href="/documentation/drivers/motor">Motor</a>
                      <a href="/documentation/drivers/servo">Servo</a>
                    </div>
                  </div>
                  <div class="sub-section">
                    <div class="name">I2C</div>
                    <div class="links">
                      <a href="/documentation/drivers/blinkm">BlinkM</a>
                      <a href="/documentation/drivers/hmc6352-compass">HMC6352 Compass</a>
                      <a href="/documentation/drivers/wiiclassic">Wii Class Controller</a>
                      <a href="/documentation/drivers/wiichuck">Wii Nunchuck Controller</a>
                    </div>
                  </div>
                  <a href="/documentation/drivers/ardrone">Ardrone - Flight</a>
                  <a href="/documentation/drivers/ardrone-navigation">Ardrone - Navigation</a>
                  <a href="/documentation/drivers/ardrone-video">Ardrone - Video</a>
                  <a href="/documentation/drivers/crazyflie">Crazyflie - Flight</a>
                  <a href="/documentation/drivers/crazyflie-nav">Crazyflie - Navigation</a>
                  <a href="/documentation/drivers/joystick">Generic Joystick</a>
                  <a href="/documentation/drivers/ps3">Joystick - DualShock 3</a>
                  <a href="/documentation/drivers/xbox360">Joystick - Xbox 360</a>
                  <a href="/documentation/drivers/keyboard">Keyboard</a>
                  <a href="/documentation/drivers/leapmotion">Leap Motion</a>
                  <a href="/documentation/drivers/neurosky">Neurosky Mindware</a>
                  <a href="/documentation/drivers/pebble">Pebble</a>
                  <a href="/documentation/drivers/roomba">Roomba</a>
                  <a href="/documentation/drivers/sphero">Sphero</a>
                </div>
              </div>
              <div class="section" ng-class="{active: active('Troubleshooting')}">
                <div class="name" ng-click="show('Troubleshooting')">Troubleshooting</div>
                <div class="links" ng-show="active('Troubleshooting')">
                  <a href="/documentation/troubleshooting/communication">Communication with Devices</a>
                </div>
              </div>
              <div class="section" ng-class="{active: active('Contribute')}">
                <div class="name" ng-click="show('Contribute')">Contribute</div>
                <div class="links" ng-show="active('Contribute')">
                  <a href="/documentation/contribute">How to contribute?</a>
                  <a href="/documentation/contribute/code-generator">Code generator</a>
                  <a href="/documentation/contribute/guidelines">Guidelines</a>
                  <a href="/documentation/contribute/contact-us">Contact Us</a>
                </div>
              </div>
              <div class="section" ng-class="{active: active('Tutorials')}">
                <div class="name" ng-click="show('Tutorials')">Tutorials</div>
                <div class="links" ng-show="active('Tutorials')">
                  <a href="/documentation/getting-started/tutorials/arduino">Arduino LED blinks</a>
                  <a href="/documentation/getting-started/tutorials/arduino">Sphero changes color</a>
                </div>
              </div>
              <a href="/documentation/examples">Examples</a>
              <a href="/documentation/chat/chat">Chat</a>
            </nav>
          </div>
          <div class="documentation-single">
            <div class="page-title-docs">
              <div class="w">
                <h1 class="title">Analog Sensor</h1>
              </div>
            </div>
            <section class="subnav-drivers" id="mainsubnav">
              <div class="container-subnav">
                <div class="sub-nav-title">Analog Sensor</div>
                <nav>
                  <a href="#HowToConnect">How to Connect</a>
                  <a href="#HowToUse">How To Use</a>
                  <a href="#Commands">Commands</a>
                  <a href="#Events">Events</a>
                  <a href="#Circuit">Circuit</a>
                  <a href="#Compatability">Compatibility</a>
                  <a class="scroll-top" href="#top">
                    <img alt="Top page" src="/images/elements/top-arrow.png" width="20">
                  </a>
                </nav>
              </div>
            </section>
            <br>
            <section class="intro">
              <img class="display" src="/images/devices/analog-sensor.jpg">
              <div class="info_intro">
                <p>
                  Makes it possible to interact with analog inputs on your device and obtain values that represent the analog input send by the sensors.
                  The value received from an analog input read from the sensor goes from 0 to 1027.
                </p>
              </div>
              <div class="clear"></div>
            </section>
            <section class="how_to" id="HowToConnect">
              <h2>How To Connect</h2>
              <h3>For Arduino:</h3>
              <pre class="CodeRay">require <span class="string"><span class="delimiter">'</span><span class="content">artoo</span><span class="delimiter">'</span></span>
connection <span class="symbol">:arduino</span>, <span class="symbol">:adaptor</span> =&gt; <span class="symbol">:firmata</span>, <span class="symbol">:port</span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">127.0.0.1:8023</span><span class="delimiter">'</span></span>
device <span class="symbol">:sensor</span>, <span class="key">driver</span>: <span class="symbol">:analog_sensor</span>, <span class="key">pin</span>: <span class="integer">0</span>, <span class="key">interval</span>: <span class="float">0.25</span>, <span class="key">upper</span>: <span class="integer">900</span>, <span class="key">lower</span>: <span class="integer">200</span>
</pre>
              <h3>For Digispark:</h3>
              <pre class="CodeRay">require <span class="string"><span class="delimiter">'</span><span class="content">artoo</span><span class="delimiter">'</span></span>
connection <span class="symbol">:digispark</span>, <span class="symbol">:adaptor</span> =&gt; <span class="symbol">:littlewire</span>, <span class="symbol">:vendor</span> =&gt; <span class="integer">0x1781</span>, <span class="symbol">:product</span> =&gt; <span class="integer">0x0c9f</span>
device <span class="symbol">:sensor</span>, <span class="key">driver</span>: <span class="symbol">:analog_sensor</span>, <span class="key">pin</span>: <span class="integer">0</span>, <span class="key">interval</span>: <span class="float">0.25</span>, <span class="key">upper</span>: <span class="integer">900</span>, <span class="key">lower</span>: <span class="integer">200</span>
</pre>
            </section>
            <section class="how-to" id="HowToUse">
              <h2>How To Use</h2>
              <h3>Example using a photoresistor sensor to turn a LED on and off.</h3>
              <pre class="CodeRay">require <span class="string"><span class="delimiter">'</span><span class="content">artoo</span><span class="delimiter">'</span></span>

connection <span class="symbol">:arduino</span>, <span class="symbol">:adaptor</span> =&gt; <span class="symbol">:firmata</span>, <span class="symbol">:port</span> =&gt; <span class="string"><span class="delimiter">'</span><span class="content">127.0.0.1:8023</span><span class="delimiter">'</span></span>

<span class="comment"># Analog inputs are based from 0 to 5 on the Arduino UNO, may vary on other arduino boards</span>
device <span class="symbol">:sensor</span>, <span class="key">driver</span>: <span class="symbol">:analog_sensor</span>, <span class="key">pin</span>: <span class="integer">0</span>, <span class="key">interval</span>: <span class="float">0.25</span>, <span class="key">upper</span>: <span class="integer">900</span>, <span class="key">lower</span>: <span class="integer">200</span>
device <span class="symbol">:led</span>, <span class="symbol">:driver</span> =&gt; <span class="symbol">:led</span>, <span class="symbol">:pin</span> =&gt; <span class="integer">8</span>

work <span class="keyword">do</span>
  puts
  puts <span class="string"><span class="delimiter">"</span><span class="content">Reading sensor in analog pin </span><span class="inline"><span class="inline-delimiter">#{</span> sensor.pin <span class="inline-delimiter">}</span></span><span class="delimiter">"</span></span>
  puts <span class="string"><span class="delimiter">"</span><span class="content">Reading intervals every =&gt; </span><span class="inline"><span class="inline-delimiter">#{</span> sensor.interval <span class="inline-delimiter">}</span></span><span class="delimiter">"</span></span>
  puts <span class="string"><span class="delimiter">"</span><span class="content">Initial sensor value =&gt; </span><span class="inline"><span class="inline-delimiter">#{</span> sensor.analog_read(<span class="integer">0</span>) <span class="inline-delimiter">}</span></span><span class="delimiter">"</span></span>
  puts <span class="string"><span class="delimiter">"</span><span class="content">Sensor upper trigger set at value =&gt; </span><span class="inline"><span class="inline-delimiter">#{</span> sensor.upper <span class="inline-delimiter">}</span></span><span class="delimiter">"</span></span>
  puts <span class="string"><span class="delimiter">"</span><span class="content">Sensor lower trigger set at value =&gt; </span><span class="inline"><span class="inline-delimiter">#{</span> sensor.lower <span class="inline-delimiter">}</span></span><span class="delimiter">"</span></span>

  on sensor, <span class="symbol">:upper</span> =&gt; proc {
    puts <span class="string"><span class="delimiter">"</span><span class="content">UPPER LIMIT REACHED!</span><span class="delimiter">"</span></span>
    led.off
  }

  on sensor, <span class="symbol">:lower</span> =&gt; proc {
    puts <span class="string"><span class="delimiter">"</span><span class="content">LOWER SENSOR LIMIT REACHED!</span><span class="delimiter">"</span></span>
    led.on
  }
<span class="keyword">end</span>
</pre>
              <h3>How to use events and call them on your drivers</h3>
              <p>Pretty simple, when the connection and the driver have been setup (as explained above) you can call events on them as follows:</p>
              <pre class="CodeRay">on sensor, <span class="symbol">:upper</span> =&gt; proc { puts <span class="string"><span class="delimiter">"</span><span class="content">UPPER LIMIT REACHED!</span><span class="delimiter">"</span></span> }
on sensor, <span class="symbol">:lower</span> =&gt; proc { puts <span class="string"><span class="delimiter">"</span><span class="content">LOWER LIMIT REACHED!</span><span class="delimiter">"</span></span> }
</pre>
            </section>
            <section class="public-methods">
              <div class="commands-api" id="Commands">
                <h1 id="commands">Commands</h1>
                
                <h2 id="pin">pin</h2>
                
                <p>Returns the pin number set up when creating the sensor.</p>
                
                <h5 id="params">Params</h5>
                
                <p><code>no params</code></p>
                
                <h5 id="returns">Returns</h5>
                
                <p><code>integer</code></p>
                
                <h2 id="upper">upper</h2>
                
                <p>Returns the upper limit set up when creating the sensor.</p>
                
                <h5 id="params-1">Params</h5>
                
                <p><code>no params</code></p>
                
                <h5 id="returns-1">Returns</h5>
                
                <p><code>integer</code></p>
                
                <h2 id="lower">lower</h2>
                
                <p>Returns the lower limit set up when creating the sensor.</p>
                
                <h5 id="params-2">Params</h5>
                
                <p><code>no params</code></p>
                
                <h5 id="returns-2">Returns</h5>
                
                <p><code>integer</code></p>
                
                <h2 id="analogreadpinnumber">analog_read(pin_number)</h2>
                
                <p>Returns an integer value that represents the analog read from the sensor, the value goes from <code>0</code> to <code>1027</code>.</p>
                
                <h5 id="params-3">Params</h5>
                
                <ul>
                  <li>
<strong>pin_number</strong> -  params, the pin value</li>
                </ul>
                
                <h5 id="returns-3">Returns</h5>
                
                <p><code>integer (from 0 to 1027)</code></p>
              </div>
              <div class="commands-api" id="Events">
                <h1 id="events">Events</h1>
                
                <h4 id="the-limits-that-trigger-the-events-are-setup-when-creating-the-sensor-see-above-in-the-section-titled-how-to-stablish-a-connection-and-driver--there-are-upper-and-lower-limits-as-well-as-an-interval-param-that-defines-how-often-the-sensor-should-be-read-when-the-specified-amount-of-time-passes-the-sensor-is-read-if-one-of-the-limits-stablished-is-reached-the-corresponging-event-will-be-triggered">The limits that trigger the events are setup when creating the sensor (see above in the section titled "How to stablish a connection and driver" ), there are <code>:upper</code> and <code>:lower</code> limits, as well as an <code>:interval</code> param that defines how often the sensor should be read; when the specified amount of time passes the sensor is read, if one of the limits stablished is reached the corresponging event will be triggered.</h4>
                
                <h2 id="startdriver">start_driver</h2>
                
                <p>Starts the driver.</p>
                
                <h2 id="upper">:upper</h2>
                
                <p>Gets triggered if the value read by the sensor is greater or equal to <code>:upper</code> (value passed when setting up the sensor).</p>
                
                <h2 id="lower">:lower</h2>
                
                <p>Gets triggered if the value read by the sensor is less or equal to <code>:lower</code> (value passed when setting up the sensor).</p>
              </div>
            </section>
            <section class="circuit" id="Circuit">
              <h2>Circuit</h2>
              <div class="description-circuit">
                <p></p>
              </div>
              <div class="image-circuit">
                <img alt="" src="/documentation/drivers/breadboards/gpio/analog_sensor_bb.png">
              </div>
              <div class="clear"></div>
            </section>
            <section class="compatibility hardware" id="Compatability">
              <h2>Compatibility</h2>
              <div class="devices">
                
                <!-- // Arduino -->
                <a class="device" href="/documentation/platforms/arduino" title="Arduino">
                  <img src="/images/devices/arduino.jpg">
                </a>
                <!-- // Analog Sensor -->
                <a class="device" href="/documentation/platforms/digispark" title="Digispark">
                  <img src="/images/devices/digispark.jpg">
                </a>
                <!-- // Spark -->
                <a class="device" href="/documentation/platforms/spark" title="Spark">
                  <img src="/images/devices/spark.jpg">
                </a>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>
    <div class="app-footer">
      <div class="frameworks">
        <div class="container">
          <div class="framework">
            <img class="robot" src="/images/elements/artoo-footer.png">
            <p class="robot-title">Multiple Solutions</p>
            <p class="description">Artoo provides a simple, yet powerful way to create solutions that incorporate multiple, different hardware devices at the same time.</p>
          </div>
          <div class="framework">
            <img class="robot" src="/images/elements/cylon.png">
            <p class="robot-title">Cylon Project</p>
            <p class="description">Want to use Javascript to power your robots? Check out our sister project Cylon.js</p>
            <a class="footer-button" href="http://cylonjs.com" target="blank">View Project</a>
          </div>
          <div class="framework">
            <img class="robot" src="/images/elements/gobot.png">
            <p class="robot-title">Gobot Project</p>
            <p class="description">Want to use Golang on robots? Check out our sister project Gobot</p>
            <a class="footer-button" href="http://gobot.io" target="blank">View Project</a>
          </div>
        </div>
      </div>
      <div class="copyright">
        <div class="container">
          <div class="hybrid-group">
            <span>© Copyright 2012-2014</span>
            <a href="http://hybridgroup.com" id="THG-logo" target="_blank">
              <img alt="The Hybrid Group" src="/images/elements/thg-logo.png">
            </a>
          </div>
          <div class="top-link">
            <a class="scroll" href="#top">
              <img alt="Top" src="/images/elements/top.png">
              <p class="top">Top</p>
            </a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
